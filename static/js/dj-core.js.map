{"version":3,"sources":["webpack:///webpack/bootstrap d5e7ede54348866534ae","webpack:///./src/lib/promise.js","webpack:///./src/lib/utils.js","webpack:///./src/lib/eventer.js","webpack:///./src/lib/request.js","webpack:///./src/lib/getQuerystring.js","webpack:///./src/index.js","webpack:///external \"Promise\"","webpack:///./src/lib/objectid.js","webpack:///./src/lib/href.js","webpack:///./src/lib/native-bridge.js","webpack:///./src/lib/pull.js","webpack:///./src/lib/ls.js","webpack:///./src/lib/object-extend.js","webpack:///./src/lib/md5.js","webpack:///./src/lib/device.js","webpack:///./src/lib/loader.js"],"names":["as","prototype","value","resolve","reject","setTimeout","Error","PromiseWrap","args","then","resolve1","reject1","self","all","values","apply","err1","err","when","queue","Array","isArray","slice","call","arguments","wrap","fn","ctx","p","cb","results","length","push","waterfall","ps","noIgnore","n","step","v","isObject","Object","toString","dateConvert","keys","forEach","key","test","dt","Date","vv","toJSON","JSON","parse","e","getType","stringifyPrimitive","toISOString","isFinite","querystring","obj","sep","eq","undefined","map","k","ks","encodeURIComponent","join","getParamByUrl","url","name","reg","RegExp","unescape","$2","replace","Eventer","init","_events","getPrototypeOf","addListener","type","listener","TypeError","events","existing","emit","handler","splice","i","arr","removeListener","list","on","remove","webBridge","overrideReq","data","opts","eliminateX","stringify","newUrl","method","xhrRequest","overObj","xhr","XMLHttpRequest","responseType","isComplete","onreadystatechange","readyState","status","console","log","errHandler","timeoutHandler","onload","onabort","onerror","ontimeout","open","setRequestHeader","send","item","child","mobileRequest","callHandler","responseCallback","errcode","errdesc","headers","request","isNative","getResponseHeader","val","responseText","error","message","errstack","getQuerystring","len","strType","global","dangjia","defineProperties","get","enumerable","window","location","href","bind","dj","MACHINE_ID","parseInt","Math","random","ObjectID","id","generate","get_inc","index","time","now","pid","floor","inc","buffer","bytes2Str","str","tmp","parseURL","a","document","createElement","source","protocol","host","hostname","port","query","search","params","ret","seg","split","s","file","pathname","match","hash","path","relative","segments","regNativeMap","setupWebViewJavascriptBridge","callback","WebViewJavascriptBridge","WVJBCallbacks","WVJBIframe","style","display","src","documentElement","appendChild","removeChild","regNative","fName","addlog","_fnInstance","bridge","registerHandler","res","returns","cbData","nativeBridge","unRegNative","callNative","funcName","func","resData","apiList","direct","signIn","signOff","queryProductSort","mobileHome","mobileHotPage","mobileSortProds","queryProdInfo","queryProdsByType","billMainInfo","upsertBillMain","getConfigure","queryCustCompany","updateCustCompany","queryCustBank","url2","queryPiProd","updatePiProd","getMgbField","nativeList","goNegotiateVC","pull","pullAll","req","locUrl","LStorage","store","localStorage","newdata","getItem","old","setItem","removeItem","clearAll","clear","handleStorage","newValue","oldValue","addEventListener","attachEvent","lStorage","_clone","contains","isFunction","_object","field","_selected","_push","_assign","ext","assign","toGroup","find","string","RotateLeft","lValue","iShiftBits","AddUnsigned","lX","lY","lX4","lY4","lX8","lY8","lResult","F","x","y","z","G","H","I","FF","b","c","d","ac","GG","HH","II","ConvertToWordArray","lWordCount","lMessageLength","lNumberOfWords_temp1","lNumberOfWords_temp2","lNumberOfWords","lWordArray","lBytePosition","lByteCount","charCodeAt","WordToHex","WordToHexValue","WordToHexValue_temp","lByte","lCount","substr","Utf8Encode","utftext","String","fromCharCode","AA","BB","CC","DD","S11","S12","S13","S14","S21","S22","S23","S24","S31","S32","S33","S34","S41","S42","S43","S44","temp","toLowerCase","device","deviceInfo","OsType","deviceType","deviceVersion","userAgent","navigator","appVersion","indexOf","merge","fileType","matchs","defineJs","urlObj","script","createTextNode","text","element","getElementsByTagName","injected","defineCss","styleSheet","cssText","attachImg","img","querySelector","HTMLImageElement","Image","URL","revokeObjectURL","createObjectURL","response","ResContext","urls","completeIndex","isError","typeObj","loading","loaded","onNext","onComplete","_onComplete","tryLoad","isImg","curIndex","isJs","isCss","loadContext","docReady","loadInjection","_onFail"],"mappings":"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","file":"./dist/dj-core.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d5e7ede54348866534ae","/**\n * Created by lichuanjing on 2017/6/1.\n */\n/* eslint-disable */\nimport Promise from 'Promise'\nPromise.as = Promise.prototype.as = function (value) {\n  return new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      if (value instanceof Error) {\n        reject(value)\n      } else {\n        resolve(value)\n      }\n    })\n  })\n}\nfunction PromiseWrap (args) {\n  this.args = args\n}\nPromiseWrap.prototype.then = function (resolve1, reject1) {\n  var self = this\n  return new Promise(function (resolve, reject) {\n    Promise.all(self.args).then(function (values) {\n      try {\n        resolve(resolve1.apply(null, values))\n      } catch (err1) {\n        reject1 && reject1(err1)\n        reject(err1)\n      }\n    }, function (err) {\n      reject1 && reject1(err)\n      reject(err)\n    })\n  })\n}\nPromise.when = Promise.prototype.when = function (queue) {\n  var args = Array.isArray(queue) ? queue : Array.prototype.slice.call(arguments)\n  return new PromiseWrap(args)\n}\nPromise.wrap = function (fn) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments)\n    var ctx = this\n    var p = new Promise(function (resolve, reject) {\n      var cb = function (err) {\n        var results = Array.prototype.slice.call(arguments)\n        results = results.slice(1, results.length)\n        if (err) return reject(err)\n        resolve.call(ctx, results.length <= 1 ? results[0] : results)\n      }\n      args.push(cb)\n      fn.apply(ctx, args)\n    })\n    return p\n  }\n}\nPromise.waterfall = Promise.prototype.waterfall = function (ps, noIgnore) {\n  // noIgnore false,\n  var self = this\n  var results = []\n  var n = 0\n  ps = Array.isArray(ps) ? ps : [ps]\n  if (ps.length <= 0) return Promise.as()\n  return new Promise(function (resolve, reject) {\n    function step (v) {\n      var fn = ps[n]\n      var p = fn.call(self, v)\n      p.then(function (v) {\n        results.push(v)\n        n++\n        if (n < ps.length) {\n          step(v)\n        } else {\n          resolve(results)\n        }\n      }, function (err) {\n        if (!noIgnore) return reject(err)\n        // \n        results.push(err)\n        n++\n        if (n < ps.length) {\n          step(v)\n        } else {\n          resolve(results)\n        }\n      })\n    }\n\n    step()\n  })\n}\nexport default Promise\n\n\n// WEBPACK FOOTER //\n// ./src/lib/promise.js","/**\n * Created by lichuanjing on 2017/6/1.\n */\n/* eslint-disable */\nfunction isObject (value) {\n  return Object.prototype.toString.call(value) === '[object Object]'\n}\nfunction dateConvert (v) {\n  if (isObject(v)) {\n    return v\n  }\n  Object.keys(v).forEach(function (key) {\n    var value = v[key]\n    if (/_date$/i.test(key) && typeof value === 'string') {\n      try {\n        var dt = new Date(value)\n        v[key] = dt\n      } catch (err) {\n      }\n    } else if (isObject(value)) {\n      dateConvert(value)\n    } else if (Array.isArray(value)) {\n      value.forEach(function (vv) {\n        dateConvert(vv)\n      })\n    }\n  })\n  return v\n}\nfunction toJSON (v) {\n  try {\n    return JSON.parse(v)\n  } catch (e) {\n    return v\n  }\n}\nfunction getType (value) {\n  return Object.prototype.toString.call(value)\n}\nfunction stringifyPrimitive (v) {\n  if (Object.prototype.toString.call(v) === '[object Date]') {\n    return v.toISOString()\n  }\n  switch (typeof v) {\n    case 'string':\n      return v\n    case 'boolean':\n      return v ? 'true' : 'false'\n    case 'number':\n      return isFinite(v) ? v : ''\n    default:\n      return ''\n  }\n}\nfunction querystring (obj) {\n  var sep = '&'\n  var eq = '='\n  if (obj === null) {\n    obj = undefined\n  }\n  return Object.keys(obj).map(function (k) {\n    var ks = encodeURIComponent(stringifyPrimitive(k)) + eq\n    if (Array.isArray(obj[k])) {\n      return obj[k].map(function (v) {\n        return ks + encodeURIComponent(stringifyPrimitive(v))\n      }).join(sep)\n    } else {\n      return ks + encodeURIComponent(stringifyPrimitive(obj[k]))\n    }\n  }).join(sep)\n}\nfunction getParamByUrl (url, name) {\n  var reg = new RegExp('(^|\\\\?|&)' + name + '=([^&]*)(\\\\s|&|$)', 'i')\n  if (reg.test(url)) {\n    return unescape(RegExp.$2.replace(/\\+/g, ' '))\n  }\n  return ''\n}\nexport {isObject, dateConvert, getType, toJSON, stringifyPrimitive, querystring, getParamByUrl}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils.js","/**\n * Created by lichuanjing on 2017/6/1.\n */\n/* eslint-disable */\nfunction Eventer () {\n  Eventer.init.call(this)\n}\nEventer.init = function () {\n  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = {}\n  }\n}\nEventer.prototype.addListener = function addListener (type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('listener must be a function')\n  }\n  var events = this._events\n  var existing\n  if (!events) {\n    events = this._events = {}\n  } else {\n    existing = events[type]\n  }\n  if (!existing) {\n    existing = events[type] = listener\n  } else {\n    if (typeof existing === 'function') {\n      existing = events[type] = [existing, listener]\n    } else {\n      existing.push(listener)\n    }\n  }\n  return this\n}\nEventer.prototype.emit = function emit (type) {\n  var handler, events\n  var self = this\n  events = self._events || {}\n  handler = events[type]\n  var args = Array.prototype.slice.call(arguments).splice(1)\n  if (!handler) return false\n  setTimeout(function () {\n    if (typeof handler === 'function') {\n      handler.apply(self, args)\n    } else {\n      var i = handler.length\n      var arr = new Array(i)\n      while (i--) {\n        arr[i] = handler[i]\n      }\n      arr.forEach(function (fn) {\n        fn.apply(self, args)\n      })\n    }\n  }, 1)\n  return true\n}\nEventer.prototype.removeListener = function removeListener (type, listener) {\n  var events = this._events\n  if (!type || typeof listener !== 'function') return this\n  var list = events[type]\n  if (!list) return this\n  if (listener === list) {\n    delete events[type]\n    return this\n  }\n  if (Array.isArray(list)) {\n    for (var i = 0; i < list.length; i++) {\n      var handler = list[i]\n      if (handler === listener) {\n        list.splice(i, 1)\n        break\n      }\n    }\n    if (!list.length) delete events[type]\n  }\n  return this\n}\nEventer.prototype.on = Eventer.prototype.addListener\nEventer.prototype.remove = Eventer.prototype.removeListener\nexport default Eventer\n\n\n// WEBPACK FOOTER //\n// ./src/lib/eventer.js","/**\n * Created by lichuanjing on 2017/6/1.\n */\n/* eslint-disable */\nimport getQuerystring from './getQuerystring'\nimport Promise from './promise'\nimport {isObject, dateConvert, toJSON} from './utils'\nvar webBridge\nfunction getType (value) {\n  return Object.prototype.toString.call(value)\n}\nfunction overrideReq (url, data, opts) {\n  opts = opts || {}\n  if (getType(data) === '[object Object]') {\n    data = eliminateX(JSON.parse(JSON.stringify(data)))\n  }\n  if (data) {\n    let newUrl = getQuerystring(url, data)\n    if (newUrl) {\n      url = newUrl\n      data = null\n    } else {\n      data = JSON.stringify(data)\n    }\n  }\n  if (data) {\n    opts.method = 'POST'\n  } else {\n    opts.method = 'GET'\n  }\n  if (isObject(data)) {\n    var newUrl = getQuerystring(url, data)\n    if (newUrl) {\n      url = newUrl\n      data = null\n    } else {\n      data = JSON.stringify(data)\n    }\n  }\n  return {url: url, data: data, opts: opts}\n}\nfunction xhrRequest (url, data, opts) {\n  var overObj = overrideReq(url, data, opts)\n  url = overObj.url\n  data = overObj.data\n  opts = overObj.opts\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest()\n    opts.responseType && (xhr.responseType = opts.responseType)\n    try {\n      var isComplete = false\n      xhr.onreadystatechange = function (e) {\n        if (xhr.readyState === 4) {\n          if (xhr.status >= 200 && xhr.status <= 304) {\n            isComplete || resolve(xhr)\n          } else {\n            console.log(xhr.status, url)\n            isComplete || reject(new Error(xhr))\n          }\n          isComplete = true\n        }\n      }\n      var errHandler = function () {\n        reject(new Error('http error!'))\n      }\n      var timeoutHandler = function () {\n        resolve('Http Request is timeout, please try again.')\n        isComplete = true\n      }\n      xhr.onload = function () {\n      }\n      xhr.onabort = errHandler\n      xhr.onerror = errHandler\n      xhr.ontimeout = errHandler\n      xhr.open(opts.method, url, true)\n      // xhr.setRequestHeader('Access-Control-Allow-Headers', 'Origin,Content-Type,Accept')\n      // xhr.setRequestHeader('X-Request-With', null)\n      if (opts.method === 'POST') {\n        xhr.setRequestHeader('Content-Type', 'application/json;charset=utf-8')\n      }\n      xhr.send(data)\n    } catch (e) {\n      reject(e)\n    }\n  })\n}\nfunction eliminateX (data) {\n  if (Array.isArray(data)) {\n    data.forEach(function (item) {\n      eliminateX(item)\n    })\n    return data\n  }\n  if (!isObject(data)) return data\n  Object.keys(data).forEach(function (key) {\n    if (/^x_/i.test(key)) {\n      delete data[key]\n    } else {\n      if (Array.isArray(data[key])) {\n        eliminateX(data[key])\n      } else if (isObject(data[key])) {\n        var child = eliminateX(data[key])\n        Object.keys(child).length || (delete data[key])\n      }\n    }\n  })\n  return data\n}\nfunction mobileRequest (url, data = {}) {\n  console.log('get in mobile')\n  if (!webBridge) return Promise.as(new Error('no web bridge!!'))\n  return new Promise(function (resolve, reject) {\n    data['fname'] = url\n    webBridge.callHandler('mobileBridge', data, function responseCallback (v) {\n      if (v && isObject(v)) {\n        v = JSON.parse(JSON.stringify(v))\n        v.errcode || (v.errcode = 0)\n      } else {\n        v = {errcode: 9999, errdesc: 'call error !'}\n      }\n      resolve({data: v, headers: {'content-type': 'application/json'}})\n    })\n  })\n}\nfunction request (url, data) {\n  var p\n  if (isObject(data)) {\n    data = eliminateX(JSON.parse(JSON.stringify(data)))\n  }\n  var isNative = /^\\/native\\//.test(url)\n  if (isNative) {\n    p = mobileRequest(url, data || {})\n  } else {\n    p = xhrRequest(url, data).then(function (xhr) {\n      var type = xhr.getResponseHeader('content-type')\n      var val = xhr.responseText\n      if (/json/.test(type)) {\n        val = toJSON(val)\n      }\n      return val\n    })\n  }\n  p = p.then(function (data) {\n    try {\n      if (!isObject(data)) return data\n      dateConvert(data)\n      if (data.errcode === 0) {\n        return data\n      } else {\n        console.error(url, {errcode: data.errcode, message: data.message}, data.errstack || '')\n        return Promise.as(new Error(data.errdesc || 'error'))\n      }\n    } catch (e) {\n      if (e.errstack) {\n        console.error(url, e.errstack)\n      } else {\n        console.error(url, e)\n      }\n      return Promise.as(new Error(data.errdesc || 'error'))\n    }\n  })\n  return p\n}\nexport {request, xhrRequest}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/request.js","/**\n * Created by lichuanjing on 2017/6/1.\n */\n/* eslint-disable */\nimport {querystring, getType} from './utils'\nfunction getQuerystring (url, data) {\n  var len = 0\n  var keys = Object.keys(data)\n  for (var i = 0; i < keys.length; i++) {\n    var value = data[keys[i]]\n    var strType = getType(value)\n    if (strType === '[object Object]' || strType === '[object Array]') {\n      return ''\n    }\n    if (!value) continue\n    len += (value.length || 0)\n  }\n  return len < 512 ? (url + '?' + querystring(data)) : ''\n}\nexport default getQuerystring\n\n\n// WEBPACK FOOTER //\n// ./src/lib/getQuerystring.js","/* eslint-disable */\nimport Eventer from './lib/eventer'\nimport Promise from './lib/promise'\nimport {request, xhrRequest} from './lib/request'\nimport getQuerystring from './lib/getQuerystring'\nimport ObjectID from './lib/objectid'\nimport parseURL from './lib/href'\nimport {regNative, callNative} from './lib/native-bridge'\nimport pull from './lib/pull'\nimport lStorage from './lib/ls'\nimport './lib/object-extend'\nimport md5 from './lib/md5'\nimport device from './lib/device'\nimport {getParamByUrl} from './lib/utils'\nimport {loadInjection} from './lib/loader'\n!(function (global) {\n  var dangjia = new Eventer()\n  Object.defineProperties(dangjia, {\n    'Eventer': {\n      get: function () {\n        return Eventer\n      },\n      enumerable: true\n    },\n    'Promise': {\n      get: function () {\n        return Promise\n      }\n    },\n    'request': {\n      get: function () {\n        return request\n      }\n    },\n    'xhrRequest': {\n      get: function () {\n        return xhrRequest\n      }\n    },\n    'ObjectID': {\n      get: function () {\n        return ObjectID().toString()\n      },\n      enumerable: true\n    },\n    'getQuerystring': {\n      get: function () {\n        return getQuerystring\n      }\n    },\n    'href': {\n      get: function () {\n        return parseURL(window.location.href)\n      },\n      enumerable: true\n    },\n    'getParamByUrl': {\n      get: function () {\n        return getParamByUrl\n      }\n    },\n    'regNative': {\n      get: function () {\n        return regNative\n      }\n    },\n    'callNative': {\n      get: function () {\n        return callNative\n      }\n    },\n    'pull': {\n      get: function () {\n        return pull\n      },\n      enumerable: true\n    },\n    'LS': {\n      get: function () {\n        return lStorage\n      },\n      enumerable: true\n    },\n    'lsValue': {\n      get: function () {\n        return lStorage.prototype.value.bind(lStorage)\n      },\n      enumerable: true\n    },\n    'md5': {\n      get: function () {\n        return md5\n      }\n    },\n    'device': {\n      get: function () {\n        return device\n      }\n    },\n    'load': {\n      get: function () {\n        return loadInjection\n      }\n    }\n  })\n  global.dangjia = global.dj = dangjia\n})(window)\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = Promise;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Promise\"\n// module id = 6\n// module chunks = 0","/**\n * Created by shenzhenhong on 2017/6/1.\n */\n/* eslint-disable */\nvar MACHINE_ID = parseInt(Math.random() * 0xFFFFFF, 10)\nvar ObjectID = function ObjectID () {\n  if (this instanceof ObjectID) {\n    this.id = this.generate()\n  } else {\n    return new ObjectID()\n  }\n}\nObjectID.prototype.get_inc = function () {\n  ObjectID.index = (ObjectID.index + 1) % 0xFFFFFF\n  return ObjectID.index\n}\nObjectID.prototype.generate = function () {\n  var time = ~~(Date.now() / 1000)\n  var pid = Math.floor(Math.random() * 100000)\n  var inc = this.get_inc()\n  var buffer = new Array(12)\n  buffer[3] = time & 0xff\n  buffer[2] = (time >> 8) & 0xff\n  buffer[1] = (time >> 16) & 0xff\n  buffer[0] = (time >> 24) & 0xff\n  buffer[6] = MACHINE_ID & 0xff\n  buffer[5] = (MACHINE_ID >> 8) & 0xff\n  buffer[4] = (MACHINE_ID >> 16) & 0xff\n  buffer[8] = pid & 0xff\n  buffer[7] = (pid >> 8) & 0xff\n  buffer[11] = inc & 0xff\n  buffer[10] = (inc >> 8) & 0xff\n  buffer[9] = (inc >> 16) & 0xff\n  return buffer\n}\nfunction bytes2Str (arr) {\n  var str = ''\n  for (var i = 0; i < arr.length; i++) {\n    var tmp = arr[i].toString(16)\n    if (tmp.length === 1) {\n      tmp = '0' + tmp\n    }\n    str += tmp\n  }\n  return str\n}\n\nObjectID.prototype.toString = function () {\n  return bytes2Str(this.id)\n}\nObjectID.index = ~~(Math.random() * 0xFFFFFF)\n\nexport default ObjectID\n\n\n// WEBPACK FOOTER //\n// ./src/lib/objectid.js","/**\n * Created by lichuanjing on 2017/6/1.\n */\n/* eslint-disable */\nfunction parseURL (url) {\n  var a = document.createElement('a')\n  a.href = url\n  return {\n    source: url,\n    protocol: a.protocol.replace(':', ''),\n    host: a.hostname,\n    port: a.port,\n    query: a.search,\n    params: (function () {\n      var ret = {}\n      var seg = a.search.replace(/^\\?/, '').split('&')\n      var len = seg.length\n      var i = 0\n      var s\n      for (i; i < len; i++) {\n        if (!seg[i]) {\n          continue\n        }\n        s = seg[i].split('=')\n        ret[s[0]] = s[1]\n      }\n      return ret\n    })(),\n    file: (a.pathname.match(/\\/([^/?#]+)$/i) || [''])[1],\n    hash: a.hash.replace('#', ''),\n    path: a.pathname.replace(/^([^/])/, '/$1'),\n    relative: (a.href.match(/tps?:\\/\\/[^/]+(.+)/) || [''])[1],\n    segments: a.pathname.replace(/^\\//, '').split('/')\n  }\n}\n\nexport default parseURL\n\n\n// WEBPACK FOOTER //\n// ./src/lib/href.js","/**\n * Created by lichuanjing on 2017/6/1.\n */\n/* eslint-disable */\nvar regNativeMap = {}\nimport Promise from './promise'\n\nfunction setupWebViewJavascriptBridge (callback) {\n  if (window.WebViewJavascriptBridge) {\n    return callback(window.WebViewJavascriptBridge)\n  }\n  if (window.WVJBCallbacks) {\n    return window.WVJBCallbacks.push(callback)\n  }\n  window.WVJBCallbacks = [callback];\n  var WVJBIframe = document.createElement('iframe')\n  WVJBIframe.style.display = 'block';\n  WVJBIframe.src = 'wvjbscheme://__BRIDGE_LOADED__'\n  document.documentElement.appendChild(WVJBIframe)\n  setTimeout(function () {\n    document.documentElement.removeChild(WVJBIframe)\n  }, 0)\n}\nvar regNative = function (fName, fn) {\n  window.addlog && window.addlog('register...'+fName)\n  var _fnInstance = regNativeMap[fName]\n  if (_fnInstance) {\n    console.error('The fName' + fName + 'has been register!!!')\n    return\n  } else {\n    regNativeMap[fName] = fn\n    // returnspromise\n    setupWebViewJavascriptBridge(function (bridge) {\n      bridge.registerHandler(fName, function (data, responseCallback) {\n        var res = data && JSON.parse(JSON.stringify(data))\n        var returns = regNativeMap[fName](res)\n        returns.then(function (cbData) {\n          return responseCallback && responseCallback(cbData)\n        })\n      })\n    })\n  }\n}\nvar nativeBridge = null\nsetupWebViewJavascriptBridge(function (bridge) {\n  window.addlog && window.addlog('bridge...'+!!bridge)\n  nativeBridge = bridge\n})\nvar unRegNative = function (fName) {\n  delete regNativeMap[fName]\n}\nvar callNative = function (funcName, data, func) {\n  if (!nativeBridge) return Promise.as(new Error('No Native Bridge!'))\n  return new Promise(function (resolve, reject) {\n    nativeBridge.callHandler(funcName, data, function responseCallback (resData) {\n      if (!resData) {\n        resData = {errcode: 9999, errdesc: 'call error !'}\n      } else {\n        resData = JSON.parse(JSON.stringify(resData))\n        resData.errcode || (resData.errcode = 0)\n      }\n      resolve(resData)\n    })\n  })\n}\nexport {regNative, unRegNative, callNative}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/native-bridge.js","/**\n * Created by lichuanjing on 2017/6/1.\n */\n/* eslint-disable */\nconst apiList = {\n  direct: {url: '/api/direct'},\n  signIn: {url: '/api/system/signin'},\n  signOff: {url: '/api/system/signoff'},\n  queryProductSort: {url: '/api/product/queryProductSort'},\n  mobileHome: {url: '/api/mobileHome'},\n  mobileHotPage: {url: '/api/mobileHotPage'},\n  mobileSortProds: {url: '/api/mobileSortProds'},\n  queryProdInfo: {url: '/api/product/queryProdInfo'},\n  queryProdsByType: {url: '/api/business/queryProdsByType'},\n  billMainInfo: {url: '/api/business/billMainInfo'},\n  upsertBillMain: {url: '/api/business/upsertBillMain'},\n  getConfigure: {url: '/api/support/getConfigure'},\n  queryCustCompany: {url: '/api/crm/queryCustCompany'},\n  updateCustCompany: {url: '/api/crm/updateCustCompany'},\n  queryCustBank: {url2: '/api/crm/queryCustBank'},\n  queryPiProd: {url: '/api/business/queryPiProd'},\n  updatePiProd: {url: '/api/business/updatePiProd'},\n  getMgbField: {url: '/api/support/getMgbField'}\n}\nconst nativeList = {\n  goNegotiateVC: {url: '/native/goNegotiateVC'}\n}\nimport {request} from './request'\nvar pull = {}\npull.init = function (arr) {\n  let pullAll = arr\n  Object.keys(pullAll).forEach(function (key) {\n    let item = pullAll[key]\n    let req = request\n    let url = item.url || item.url2\n    let func = function (data) {\n      return req(url, data)\n    }\n    pull[key] = func\n  })\n}\npull.init (apiList)\nexport default pull\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/pull.js","/**\n * Created by lichuanjing on 2017/6/1.\n */\n/* eslint-disable */\nimport {toJSON} from './utils'\nimport Eventer from './eventer'\nvar locUrl = window.location.href\nfunction LStorage () {\n}\nif (!window.dangjia) {\n  window.dangjia = new Eventer()\n}\nLStorage.prototype.store = function () {\n  return window.localStorage\n}\nLStorage.prototype.value = function (key, data) {\n  var newdata = data\n  if (!key) return\n  if (typeof data === 'undefined') {\n    data = this.store().getItem(key)\n    data = toJSON(data)\n  } else {\n    if (data) {\n      data = JSON.stringify(data)\n      var old = this.store().getItem(key) || '{}'\n      this.store().setItem(key, data)\n      if (old !== data) {\n        dangjia.emit('storage', key, newdata, toJSON(old), true, locUrl)\n      }\n    }\n  }\n  return data\n}\nLStorage.prototype.remove = function (key) {\n  var old = this.store().getItem(key) || '{}'\n  old = toJSON(old)\n  dangjia.emit('storage', key, null, old, true, locUrl)\n  return this.store().removeItem(key)\n}\nLStorage.prototype.clearAll = function () {\n  dangjia.emit('storage', 'all', null, null, true, locUrl)\n  return this.store().clear()\n}\nfunction handleStorage (e) {\n  if (!e) return\n  var newValue = toJSON(e.newValue)\n  var oldValue = toJSON(e.oldValue)\n  dangjia.emit('storage', e.key, newValue, oldValue, false, e.url)\n}\nif (window.addEventListener) {\n  window.addEventListener('storage', handleStorage, false)\n} else if (window.attachEvent) {\n  window.attachEvent('onstorage', handleStorage)\n}\nvar lStorage = new LStorage()\nexport default lStorage\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ls.js","/**\n * Created by wangmin on 16/12/1.\n */\n/* eslint-disable */\nObject._clone = (v) => {\n  if (!v) return v\n  return JSON.parse(JSON.stringify(v))\n}\nArray.prototype.contains = function (obj) {\n  var isFunction = typeof obj === 'function'\n  var i = this.length;\n  while (i--) {\n    var item = this[i]\n    if (isFunction) {\n      if (obj(item)) {\n        return item;\n      }\n    } else {\n      if (item === obj) {\n        return item;\n      }\n    }\n  }\n}\n//\nArray.prototype._object = function (field) {\n  var obj = {}\n  if (!field) return obj\n  for (var i = 0; i < this.length; i++) {\n    var item = this[i]\n    obj[item[field]] = item\n  }\n  return obj\n}\n//\nArray.prototype._selected = function (field, eq) {\n  var arr = []\n  typeof eq === 'undefined' && (eq = true)\n  if (!field) return arr\n  for (var i = 0; i < this.length; i++) {\n    var item = this[i]\n    if (item[field] === eq) arr.push(item)\n  }\n  return arr\n}\nArray.prototype._push = function (arr) {\n  if (!arr) return\n  for (var i = 0; i < arr.length; i++) {\n    this.push(arr[i])\n  }\n  return this\n}\nArray.prototype._assign = function (ext) {\n  if (!ext) return\n  for (var i = 0; i < this.length; i++) {\n    Object.assign(this[i], ext)\n  }\n  return this\n}\nArray.prototype.toGroup = function (field) {\n  var obj = {}\n  if (!field) return obj\n  for (var i = 0; i < this.length; i++) {\n    var item = this[i]\n    var v = obj [item[field]]\n    if (!v) {\n      v = []\n      obj [item[field]] = v\n    }\n    v.push(item)\n  }\n  return obj\n}\nArray.prototype.find || (Array.prototype.find = Array.prototype.contains)\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/object-extend.js","/* eslint-disable */\nexport default function (string) {\n\n  function RotateLeft (lValue, iShiftBits) {\n    return (lValue << iShiftBits) | (lValue >>> (32 - iShiftBits))\n  }\n\n  function AddUnsigned (lX, lY) {\n    var lX4, lY4, lX8, lY8, lResult\n    lX8 = (lX & 0x80000000)\n    lY8 = (lY & 0x80000000)\n    lX4 = (lX & 0x40000000)\n    lY4 = (lY & 0x40000000)\n    lResult = (lX & 0x3FFFFFFF) + (lY & 0x3FFFFFFF)\n    if (lX4 & lY4) {\n      return (lResult ^ 0x80000000 ^ lX8 ^ lY8)\n    }\n    if (lX4 | lY4) {\n      if (lResult & 0x40000000) {\n        return (lResult ^ 0xC0000000 ^ lX8 ^ lY8)\n      } else {\n        return (lResult ^ 0x40000000 ^ lX8 ^ lY8)\n      }\n    } else {\n      return (lResult ^ lX8 ^ lY8)\n    }\n  }\n\n  function F(x, y, z) {\n    return (x & y) | ((~x) & z) }\n\n  function G(x, y, z) {\n    return (x & z) | (y & (~z)) }\n\n  function H(x, y, z) {\n    return (x ^ y ^ z) }\n\n  function I(x, y, z) {\n    return (y ^ (x | (~z))) }\n\n  function FF(a, b, c, d, x, s, ac) {\n    a = AddUnsigned(a, AddUnsigned(AddUnsigned(F(b, c, d), x), ac))\n    return AddUnsigned(RotateLeft(a, s), b)\n  }\n\n  function GG(a, b, c, d, x, s, ac) {\n    a = AddUnsigned(a, AddUnsigned(AddUnsigned(G(b, c, d), x), ac))\n    return AddUnsigned(RotateLeft(a, s), b)\n  }\n\n  function HH(a, b, c, d, x, s, ac) {\n    a = AddUnsigned(a, AddUnsigned(AddUnsigned(H(b, c, d), x), ac))\n    return AddUnsigned(RotateLeft(a, s), b)\n  }\n\n  function II(a, b, c, d, x, s, ac) {\n    a = AddUnsigned(a, AddUnsigned(AddUnsigned(I(b, c, d), x), ac))\n    return AddUnsigned(RotateLeft(a, s), b)\n  }\n\n  function ConvertToWordArray(string) {\n    var lWordCount\n    var lMessageLength = string.length\n    var lNumberOfWords_temp1 = lMessageLength + 8\n    var lNumberOfWords_temp2 = (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64\n    var lNumberOfWords = (lNumberOfWords_temp2 + 1) * 16\n    var lWordArray = Array(lNumberOfWords - 1)\n    var lBytePosition = 0\n    var lByteCount = 0\n    while (lByteCount < lMessageLength) {\n      lWordCount = (lByteCount - (lByteCount % 4)) / 4\n      lBytePosition = (lByteCount % 4) * 8\n      lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount) << lBytePosition))\n      lByteCount++\n    }\n    lWordCount = (lByteCount - (lByteCount % 4)) / 4\n    lBytePosition = (lByteCount % 4) * 8\n    lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80 << lBytePosition)\n    lWordArray[lNumberOfWords - 2] = lMessageLength << 3\n    lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29\n    return lWordArray\n  }\n\n  function WordToHex(lValue) {\n    var WordToHexValue = \"\",\n      WordToHexValue_temp = \"\",\n      lByte, lCount\n    for (lCount = 0;lCount <= 3;lCount++) {\n      lByte = (lValue >>> (lCount * 8)) & 255\n      WordToHexValue_temp = \"0\" + lByte.toString(16)\n      WordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length - 2, 2)\n    }\n    return WordToHexValue\n  }\n\n  function Utf8Encode(string) {\n    string = string.replace(/\\r\\n/g, \"\\n\")\n    var utftext = \"\"\n\n    for (var n = 0;n < string.length;n++) {\n\n      var c = string.charCodeAt(n)\n\n      if (c < 128) {\n        utftext += String.fromCharCode(c)\n      } else if ((c > 127) && (c < 2048)) {\n        utftext += String.fromCharCode((c >> 6) | 192)\n        utftext += String.fromCharCode((c & 63) | 128)\n      } else {\n        utftext += String.fromCharCode((c >> 12) | 224)\n        utftext += String.fromCharCode(((c >> 6) & 63) | 128)\n        utftext += String.fromCharCode((c & 63) | 128)\n      }\n\n    }\n\n    return utftext\n  }\n\n  var x = Array()\n  var k, AA, BB, CC, DD, a, b, c, d\n  var S11 = 7,\n    S12 = 12,\n    S13 = 17,\n    S14 = 22\n  var S21 = 5,\n    S22 = 9,\n    S23 = 14,\n    S24 = 20\n  var S31 = 4,\n    S32 = 11,\n    S33 = 16,\n    S34 = 23\n  var S41 = 6,\n    S42 = 10,\n    S43 = 15,\n    S44 = 21\n\n  string = Utf8Encode(string)\n\n  x = ConvertToWordArray(string)\n\n  a = 0x67452301\n  b = 0xEFCDAB89\n  c = 0x98BADCFE\n  d = 0x10325476\n\n  for (k = 0;k < x.length;k += 16) {\n    AA = a\n    BB = b\n    CC = c\n    DD = d\n    a = FF(a, b, c, d, x[k + 0], S11, 0xD76AA478)\n    d = FF(d, a, b, c, x[k + 1], S12, 0xE8C7B756)\n    c = FF(c, d, a, b, x[k + 2], S13, 0x242070DB)\n    b = FF(b, c, d, a, x[k + 3], S14, 0xC1BDCEEE)\n    a = FF(a, b, c, d, x[k + 4], S11, 0xF57C0FAF)\n    d = FF(d, a, b, c, x[k + 5], S12, 0x4787C62A)\n    c = FF(c, d, a, b, x[k + 6], S13, 0xA8304613)\n    b = FF(b, c, d, a, x[k + 7], S14, 0xFD469501)\n    a = FF(a, b, c, d, x[k + 8], S11, 0x698098D8)\n    d = FF(d, a, b, c, x[k + 9], S12, 0x8B44F7AF)\n    c = FF(c, d, a, b, x[k + 10], S13, 0xFFFF5BB1)\n    b = FF(b, c, d, a, x[k + 11], S14, 0x895CD7BE)\n    a = FF(a, b, c, d, x[k + 12], S11, 0x6B901122)\n    d = FF(d, a, b, c, x[k + 13], S12, 0xFD987193)\n    c = FF(c, d, a, b, x[k + 14], S13, 0xA679438E)\n    b = FF(b, c, d, a, x[k + 15], S14, 0x49B40821)\n    a = GG(a, b, c, d, x[k + 1], S21, 0xF61E2562)\n    d = GG(d, a, b, c, x[k + 6], S22, 0xC040B340)\n    c = GG(c, d, a, b, x[k + 11], S23, 0x265E5A51)\n    b = GG(b, c, d, a, x[k + 0], S24, 0xE9B6C7AA)\n    a = GG(a, b, c, d, x[k + 5], S21, 0xD62F105D)\n    d = GG(d, a, b, c, x[k + 10], S22, 0x2441453)\n    c = GG(c, d, a, b, x[k + 15], S23, 0xD8A1E681)\n    b = GG(b, c, d, a, x[k + 4], S24, 0xE7D3FBC8)\n    a = GG(a, b, c, d, x[k + 9], S21, 0x21E1CDE6)\n    d = GG(d, a, b, c, x[k + 14], S22, 0xC33707D6)\n    c = GG(c, d, a, b, x[k + 3], S23, 0xF4D50D87)\n    b = GG(b, c, d, a, x[k + 8], S24, 0x455A14ED)\n    a = GG(a, b, c, d, x[k + 13], S21, 0xA9E3E905)\n    d = GG(d, a, b, c, x[k + 2], S22, 0xFCEFA3F8)\n    c = GG(c, d, a, b, x[k + 7], S23, 0x676F02D9)\n    b = GG(b, c, d, a, x[k + 12], S24, 0x8D2A4C8A)\n    a = HH(a, b, c, d, x[k + 5], S31, 0xFFFA3942)\n    d = HH(d, a, b, c, x[k + 8], S32, 0x8771F681)\n    c = HH(c, d, a, b, x[k + 11], S33, 0x6D9D6122)\n    b = HH(b, c, d, a, x[k + 14], S34, 0xFDE5380C)\n    a = HH(a, b, c, d, x[k + 1], S31, 0xA4BEEA44)\n    d = HH(d, a, b, c, x[k + 4], S32, 0x4BDECFA9)\n    c = HH(c, d, a, b, x[k + 7], S33, 0xF6BB4B60)\n    b = HH(b, c, d, a, x[k + 10], S34, 0xBEBFBC70)\n    a = HH(a, b, c, d, x[k + 13], S31, 0x289B7EC6)\n    d = HH(d, a, b, c, x[k + 0], S32, 0xEAA127FA)\n    c = HH(c, d, a, b, x[k + 3], S33, 0xD4EF3085)\n    b = HH(b, c, d, a, x[k + 6], S34, 0x4881D05)\n    a = HH(a, b, c, d, x[k + 9], S31, 0xD9D4D039)\n    d = HH(d, a, b, c, x[k + 12], S32, 0xE6DB99E5)\n    c = HH(c, d, a, b, x[k + 15], S33, 0x1FA27CF8)\n    b = HH(b, c, d, a, x[k + 2], S34, 0xC4AC5665)\n    a = II(a, b, c, d, x[k + 0], S41, 0xF4292244)\n    d = II(d, a, b, c, x[k + 7], S42, 0x432AFF97)\n    c = II(c, d, a, b, x[k + 14], S43, 0xAB9423A7)\n    b = II(b, c, d, a, x[k + 5], S44, 0xFC93A039)\n    a = II(a, b, c, d, x[k + 12], S41, 0x655B59C3)\n    d = II(d, a, b, c, x[k + 3], S42, 0x8F0CCC92)\n    c = II(c, d, a, b, x[k + 10], S43, 0xFFEFF47D)\n    b = II(b, c, d, a, x[k + 1], S44, 0x85845DD1)\n    a = II(a, b, c, d, x[k + 8], S41, 0x6FA87E4F)\n    d = II(d, a, b, c, x[k + 15], S42, 0xFE2CE6E0)\n    c = II(c, d, a, b, x[k + 6], S43, 0xA3014314)\n    b = II(b, c, d, a, x[k + 13], S44, 0x4E0811A1)\n    a = II(a, b, c, d, x[k + 4], S41, 0xF7537E82)\n    d = II(d, a, b, c, x[k + 11], S42, 0xBD3AF235)\n    c = II(c, d, a, b, x[k + 2], S43, 0x2AD7D2BB)\n    b = II(b, c, d, a, x[k + 9], S44, 0xEB86D391)\n    a = AddUnsigned(a, AA)\n    b = AddUnsigned(b, BB)\n    c = AddUnsigned(c, CC)\n    d = AddUnsigned(d, DD)\n  }\n\n  var temp = WordToHex(a) + WordToHex(b) + WordToHex(c) + WordToHex(d)\n\n  return temp.toLowerCase()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/md5.js","/**\n * Created by lichuanjing on 2017/6/5.\n */\nconst device = function () {\n  let deviceInfo = {\n    OsType: '',\n    deviceType: '',\n    deviceVersion: ''\n  }\n  let userAgent = navigator.userAgent\n  deviceInfo.deviceVersion = navigator.appVersion\n  if (userAgent.indexOf('Android') > -1 || userAgent.indexOf('Linux') > -1) {\n    deviceInfo.deviceType = 'ANDROID'\n  }\n  if (userAgent.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/)) {\n    deviceInfo.OsType = 'IOS'\n    if (userAgent.indexOf('iPhone') !== -1) {\n      deviceInfo.deviceType = 'IPHONE'\n    }\n    if (userAgent.indexOf('iPad') !== -1) {\n      deviceInfo.deviceType = 'IPAD'\n    }\n  }\n  return deviceInfo\n}\nexport default device()\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/device.js","/**\n * Created by lichuanjing on 2017/6/13.\n */\nimport Promise from './promise'\nimport Eventer from './eventer'\nimport { xhrRequest } from './request'\nfunction merge(a, b) {\n  if (!a || !b) return a\n  Object.keys(b).forEach(function(k) {\n    a[k] = b[k]\n  })\n  return a\n}\nfunction fileType(str) {\n  var matchs = str.match(/\\.(\\w+)($|\\?)/) || []\n  var ext = matchs[1] || 'unknown'\n  return ext\n}\nfunction defineJs(urlObj) {\n  var script = document.createElement('script')\n  script.type = 'text/javascript'\n  try {\n    script.appendChild(document.createTextNode(urlObj.xhr.responseText))\n  } catch (e) {\n    script.text = urlObj.xhr.responseText\n  }\n  delete urlObj.xhr\n  var element = document.getElementsByTagName('head')[0]\n  element.appendChild(script)\n  urlObj.injected = true\n}\nfunction defineCss(urlObj) {\n  var style = document.createElement('style')\n  style.type = 'text/css'\n  try {\n    style.appendChild(document.createTextNode(urlObj.xhr.responseText))\n  } catch (e) {\n    style.styleSheet.cssText = urlObj.xhr.responseText\n  }\n  delete urlObj.xhr\n  var element = document.getElementsByTagName('head')[0]\n  element.appendChild(style)\n  urlObj.injected = true\n}\nfunction attachImg(urlObj) {\n  var img = this.element\n  if (typeof img === 'string') {\n    img = document.querySelector(img)\n  }\n  if (!(img instanceof window.HTMLImageElement)) {\n    img = new window.Image()\n  }\n  img.onload = function(e) {\n    window.URL.revokeObjectURL(img.src)\n  }\n  img.src = window.URL.createObjectURL(urlObj.xhr.response)\n  urlObj.injected = true\n}\nfunction ResContext(urls, element) {\n  var self = this\n  Eventer.call(this)\n  urls = urls || []\n  Array.isArray(urls) || (urls = [urls])\n  this.urls = []\n  this.completeIndex = -1\n  this.isError = false\n  this.element = element\n  urls.forEach(function(url) {\n    var type = fileType(url)\n    var typeObj = {}\n    if (type === 'js') {\n      typeObj['isJs'] = true\n    } else if (type === 'css') {\n      typeObj['isCss'] = true\n    } else if (/jp[e]?g|png/.test(type)) {\n      typeObj['isImg'] = true\n    }\n    var urlObj = merge(\n      {\n        type: type,\n        url: url,\n        loading: false,\n        loaded: false,\n        injected: false,\n        text: ''\n      },\n      typeObj\n    )\n    self.urls.push(urlObj)\n  })\n  this.on('next', onNext.bind(this))\n  this.on('complete', onComplete.bind(this))\n}\nResContext.prototype = Eventer.prototype\nfunction onComplete() {\n  this._onComplete && this._onComplete()\n}\nfunction tryLoad(urlObj) {\n  var self = this\n  var p\n  var opts = { method: 'GET' }\n  urlObj.isImg && (opts['responseType'] = 'blob')\n  p = xhrRequest(urlObj.url, null, opts)\n  p.then(\n    function(xhr) {\n      urlObj['xhr'] = xhr\n      urlObj.loading = true\n      self.emit('next')\n    },\n    function(e) {\n      console.log(e)\n    }\n  )\n}\nfunction onNext() {\n  var curIndex = this.completeIndex + 1\n  var urlObj = this.urls[curIndex]\n  if (!urlObj || urlObj.loaded || urlObj.injected || !urlObj.xhr) return\n  urlObj.loaded = true\n  var fn\n  urlObj.isJs && (fn = defineJs)\n  urlObj.isCss && (fn = defineCss)\n  urlObj.isImg && (fn = attachImg)\n  fn.call(this, urlObj)\n  this.completeIndex = curIndex\n  if (curIndex === this.urls.length - 1) {\n    this.emit('complete')\n  } else {\n    this.emit('next')\n  }\n}\nfunction loadContext() {\n  var self = this\n  self.urls.forEach(function(urlObj) {\n    tryLoad.call(self, urlObj)\n  })\n}\nfunction docReady() {\n  if (document.readyState === 'complete') {\n    return Promise.as()\n  }\n  return new Promise(function(resolve, reject) {\n    if (document.all) {\n      document.onreadystatechange = function() {\n        if (\n          document.readyState === 'loaded' || document.readyState === 'complete'\n        ) {\n          resolve()\n        }\n      }\n    } else {\n      document.addEventListener(\n        'DOMContentLoaded',\n        function() {\n          resolve()\n        },\n        false\n      )\n    }\n  })\n}\nfunction loadInjection(urls, element) {\n  Array.isArray(urls) || (urls = [urls])\n  return docReady().then(function() {\n    return new Promise(function(resolve, reject) {\n      var res = new ResContext(urls, element)\n      if (!urls || !urls.length) return resolve()\n      res._onComplete = function() {\n        resolve()\n      }\n      res._onFail = function() {\n        reject()\n      }\n      setTimeout(function() {\n        loadContext.call(res)\n      })\n    })\n  })\n}\nexport { loadInjection }\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/loader.js"],"sourceRoot":""}